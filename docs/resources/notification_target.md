---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "criblio_notification_target Resource - terraform-provider-criblio"
subcategory: ""
description: |-
  NotificationTarget Resource
---

# criblio_notification_target (Resource)

NotificationTarget Resource

## Example Usage

```terraform
resource "criblio_notification_target" "my_notificationtarget" {
  id = "nt-slack-prod"
  pager_duty_target = {
    class       = "incident-class"
    component   = "webserver"
    group       = "oncall-team"
    id          = "myPagerDutyTarget"
    routing_key = "0123456789abcdef0123456789abcdef"
    severity    = "critical"
    system_fields = [
      "cribl_host",
      "cribl_pipe",
    ]
    type = "pager_duty"
  }
  slack_target = {
    id = "mySlackTarget"
    system_fields = [
      "cribl_host",
      "cribl_pipe",
    ]
    type = "slack"
    url  = "https://hooks.slack.com/services/THISisanExample"
  }
  smtp_target = {
    encryption_option = "STARTTLS"
    from              = "alerts@example.com"
    host              = "smtp.example.com"
    id                = "mySmtpTarget"
    password          = "smtpPass123"
    port              = 587
    system_fields = [
      "cribl_host",
      "cribl_pipe",
    ]
    tls = {
      max_version         = "TLSv1.3"
      min_version         = "TLSv1.2"
      reject_unauthorized = true
    }
    type     = "smtp"
    username = "smtpUser"
  }
  sns_target = {
    allowlist = [
      "+15551234567",
      "+15559876543",
    ]
    assume_role_arn           = "arn:aws:iam::123456789012:role/MyRole"
    assume_role_external_id   = "external-id-123"
    aws_api_key               = "AKIAIOSFODNN7EXAMPLE"
    aws_authentication_method = "manual"
    aws_secret_key            = "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"
    destination_type          = "topic"
    endpoint                  = "https://sns.us-east-1.amazonaws.com"
    id                        = "mySnsTarget"
    message_group_id          = "my-message-group-id"
    phone_number              = "+15557654321"
    region                    = "us-east-1"
    system_fields = [
      "cribl_host",
      "cribl_pipe",
    ]
    topic_arn  = "arn:aws:sns:us-east-1:123456789012:my-topic"
    topic_type = "fifo"
    type       = "sns"
  }
  webhook_target = {
    auth_type = "token"
    format    = "ndjson"
    id        = "myWebhookTarget"
    method    = "POST"
    password  = "webhookPass"
    system_fields = [
      "cribl_host",
      "cribl_pipe",
    ]
    token    = "myWebhookSecretToken"
    type     = "webhook"
    url      = "https://hooks.example.com/webhook"
    username = "webhookUser"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `id` (String) The id of this notification target instance

### Optional

- `pager_duty_target` (Attributes) (see [below for nested schema](#nestedatt--pager_duty_target))
- `slack_target` (Attributes) (see [below for nested schema](#nestedatt--slack_target))
- `smtp_target` (Attributes) (see [below for nested schema](#nestedatt--smtp_target))
- `sns_target` (Attributes) (see [below for nested schema](#nestedatt--sns_target))
- `webhook_target` (Attributes) (see [below for nested schema](#nestedatt--webhook_target))

### Read-Only

- `items` (List of Map of String)

<a id="nestedatt--pager_duty_target"></a>
### Nested Schema for `pager_duty_target`

Required:

- `id` (String) Unique ID for this notification target
- `routing_key` (String) 32-character integration key for an integration on a service or global ruleset
- `type` (String) must be "pager_duty"

Optional:

- `class` (String) Optional, default class value
- `component` (String) Optional, default component value. Default: "logstream"
- `group` (String) Optional, default group value
- `severity` (String) Default value for message severity. Defaults to info. The __severity value, if set, will overwrite this. Default: "info"; must be one of ["info", "warning", "error", "critical"]
- `system_fields` (List of String) Fields to automatically add to events, such as cribl_pipe. Supports wildcards. Default: ["cribl_host"]


<a id="nestedatt--slack_target"></a>
### Nested Schema for `slack_target`

Required:

- `id` (String) Unique ID for this notification target
- `type` (String) must be "slack"
- `url` (String) Slack's Incoming Webhook URL

Optional:

- `system_fields` (List of String) Fields to automatically add to events, such as cribl_pipe. Supports wildcards. Default: ["cribl_host"]


<a id="nestedatt--smtp_target"></a>
### Nested Schema for `smtp_target`

Required:

- `from` (String) Email address to send from
- `host` (String) SMTP server hostname
- `id` (String) Unique ID for this notification target
- `port` (Number) SMTP server port
- `type` (String) must be "smtp"

Optional:

- `encryption_option` (String) Encryption method for SMTP. Default: "NONE"; must be one of ["NONE", "STARTTLS", "SSL"]
- `password` (String) SMTP authentication password
- `system_fields` (List of String) Fields to automatically add to events, such as cribl_pipe. Supports wildcards. Default: ["cribl_host"]
- `tls` (Attributes) TLS configuration options (see [below for nested schema](#nestedatt--smtp_target--tls))
- `username` (String) SMTP authentication username

<a id="nestedatt--smtp_target--tls"></a>
### Nested Schema for `smtp_target.tls`

Optional:

- `max_version` (String) Maximum TLS version to accept. Default: "TLSv1.3"; must be one of ["TLSv1", "TLSv1.1", "TLSv1.2", "TLSv1.3"]
- `min_version` (String) Minimum TLS version to accept. Default: "TLSv1.2"; must be one of ["TLSv1", "TLSv1.1", "TLSv1.2", "TLSv1.3"]
- `reject_unauthorized` (Boolean) Whether to reject unauthorized certificates. Default: true



<a id="nestedatt--sns_target"></a>
### Nested Schema for `sns_target`

Required:

- `id` (String) Unique ID for this notification target
- `region` (String) AWS region
- `type` (String) must be "sns"

Optional:

- `allowlist` (List of String) Wildcard list of allowed phone numbers. This is not enforced if the notification is sent to topic. Default: []
- `assume_role_arn` (String) ARN of the role to assume
- `assume_role_external_id` (String) External ID for role assumption
- `aws_api_key` (String) AWS access key
- `aws_authentication_method` (String) AWS authentication method. must be one of ["auto", "manual", "secret"]
- `aws_secret_key` (String) AWS secret key
- `destination_type` (String) The type of destination to send notifications to. Default: "topic"; must be one of ["phoneNumber", "topic"]
- `endpoint` (String) SNS endpoint URL
- `message_group_id` (String) Message group ID for FIFO topics
- `phone_number` (String) The default phone number to send the notification to. This value can be overridden by the notification event __phoneNumber field.
- `system_fields` (List of String) Fields to automatically add to events, such as cribl_pipe. Supports wildcards. Default: ["cribl_host"]
- `topic_arn` (String) The default ARN of the SNS topic to send notifications to
- `topic_type` (String) Type of the topic selected in AWS SNS. Default: "fifo"; must be one of ["standard", "fifo"]


<a id="nestedatt--webhook_target"></a>
### Nested Schema for `webhook_target`

Required:

- `format` (String) Format of the webhook payload. must be one of ["ndjson", "json_array", "custom"]
- `id` (String) Unique ID for this notification target
- `method` (String) HTTP method to use for the webhook. must be one of ["POST", "PATCH", "PUT"]
- `type` (String) must be "webhook"
- `url` (String) URL to send the webhook to

Optional:

- `auth_type` (String) Authentication method for the webhook. Default: "none"; must be one of ["none", "token", "basic"]
- `password` (String) Basic authentication password
- `system_fields` (List of String) Fields to automatically add to events, such as cribl_pipe. Supports wildcards. Default: ["cribl_host"]
- `token` (String) Authentication token
- `username` (String) Basic authentication username

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = criblio_notification_target.my_criblio_notification_target
  id = "nt-slack-prod"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import criblio_notification_target.my_criblio_notification_target "nt-slack-prod"
```
